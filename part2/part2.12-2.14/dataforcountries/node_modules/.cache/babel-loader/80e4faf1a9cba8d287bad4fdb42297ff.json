{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gerald\\\\Desktop\\\\UoHFullStack2020\\\\part2\\\\part2.12-2.14\\\\dataforcountries\\\\src\\\\components\\\\Display.js\";\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\n\nconst Display = ({\n  countries,\n  newFilter,\n  setNewFilter\n}) => {\n  const countriesToShow = countries.filter(country => country.name.toLowerCase().includes(newFilter.toLowerCase()));\n  const api_key = process.env.REACT_APP_WEATHER_API_KEY;\n\n  const handleClick = countryName => {\n    setNewFilter(countryName);\n  };\n\n  const get_weather = country => axios.get(`http://api.weatherstack.com/current?access_key=${api_key}&query=${country.name}`).then(response => {\n    console.log(response.current.temperature);\n    return response.current;\n  });\n\n  if (countriesToShow.length === 1) {\n    const country = countriesToShow[0];\n    const weather_info = get_weather(country);\n    console.log(weather_info.temperature);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }\n    }, country.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }\n    }, \"captial \", country.capital), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    }, \"population \", country.population), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"languages\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, country.languages.map((lang, i) => /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 55\n      }\n    }, lang.name))), /*#__PURE__*/React.createElement(\"img\", {\n      src: country.flag,\n      width: \"250\",\n      height: \"250\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, \"Weather in \", country.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, \"temperature:\"));\n  } else if (countriesToShow.length > 10) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Too many matches, specify another filter\");else // 1<length<=10\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, countriesToShow.map((country, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, country.name, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => handleClick(country.name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, \"show more\"))));\n};\n\nexport default Display;","map":{"version":3,"sources":["C:/Users/Gerald/Desktop/UoHFullStack2020/part2/part2.12-2.14/dataforcountries/src/components/Display.js"],"names":["React","useEffect","axios","Display","countries","newFilter","setNewFilter","countriesToShow","filter","country","name","toLowerCase","includes","api_key","process","env","REACT_APP_WEATHER_API_KEY","handleClick","countryName","get_weather","get","then","response","console","log","current","temperature","length","weather_info","capital","population","languages","map","lang","i","flag"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Display = ({countries, newFilter, setNewFilter}) =>{\r\n    const countriesToShow = countries.filter((country)=>country.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n    const api_key = process.env.REACT_APP_WEATHER_API_KEY\r\n\r\n    const handleClick = (countryName) =>{\r\n        setNewFilter(countryName)\r\n    }\r\n    const get_weather = (country) => axios.get(`http://api.weatherstack.com/current?access_key=${api_key}&query=${country.name}`)\r\n            .then(response=>{\r\n                console.log(response.current.temperature)\r\n                return response.current\r\n            })\r\n    if (countriesToShow.length === 1){\r\n        const country = countriesToShow[0]\r\n        const weather_info = get_weather(country)\r\n        console.log(weather_info.temperature)\r\n        return (\r\n            <div>\r\n                <h2>{country.name}</h2>\r\n                <p>\r\n                    captial {country.capital}\r\n                </p>\r\n                <p>\r\n                    population {country.population}\r\n                </p>\r\n                <h3>languages</h3>\r\n                <ul>\r\n                    {country.languages.map((lang, i)=><li key={i}>{lang.name}</li>)}\r\n                </ul>\r\n                <img src={country.flag} width=\"250\" height=\"250\"/>\r\n                <h3>Weather in {country.name}</h3>\r\n                <p>temperature:</p>\r\n            </div>\r\n        )\r\n    }\r\n    else if (countriesToShow.length>10)\r\n        return (\r\n            <div>\r\n                Too many matches, specify another filter\r\n            </div>\r\n        )\r\n    else // 1<length<=10\r\n        return(\r\n            <div>\r\n                {countriesToShow.map((country, i)=>\r\n                    <p key={i}> \r\n                        {country.name} \r\n                        <button onClick={()=> handleClick(country.name)}>\r\n                            show more\r\n                        </button>\r\n                    </p>\r\n                    )\r\n                }\r\n               \r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Display"]},"metadata":{},"sourceType":"module"}